<div class="scaffolder scaffolder--{{options.layout}} scaffolder--{{options.theme}}"  layout="column" layout-align="start start">
  <div class="scaffolder__header" ng-if="options.title || options.description">
    <h3 class="scaffolder__header__title" ng-if="options.title">{{ options.title }}</h3>
    <p class="scaffolder__header__description lead" ng-if="options.description">{{ options.description }}</p>
  </div>
  <div class="scaffolder__container" flex>
    <aside ng-show="scaffolder.hasMenu()" class="scaffolder__container__menu">
      <ul class="nav nav-pills" ng-class="{ 'nav-stacked': options.layout === 'menu' }">
        <li ng-repeat="url in options.urls track by $index"
            ng-class="menuLinkClasses($index)"
            class="scaffolder__container__menu__item">
          <a ng-click="scaffolder.activate($index)">
            {{scaffolder.label($index, "Iframe " + ($index+1))}}
          </a>
        </li>
      </ul>
      <h4 class="scaffolder__container__title">{{ scaffolder.getActive( 'Iframe ' + ($index + 1) ).label }}</h4>
    </aside>
    <div  ng-repeat="url in options.urls track by $index"
          ng-style="iframeStyle($index, $first, $last)"
          ng-show="scaffolder.isVisible($index, true)"
          ng-class="iframeClasses($index, $first, $last)"
          iframe-indicator
          class="scaffolder__container__iframe">
      <iframe frameborder="0"
              width="100%"
              height="100%"
              ng-src="{{ scaffolder.url($index) }}"></iframe>
    </div>
  </div>
  <div class="scaffolder__footer">
    <a target="_blank" href="//www.google.com/trends/">
      <img src="assets/images/googletrends.png" height="18" alt="Google  Trends" />
    </a>
    <div class="scaffolder__footer__sharing-toggler" ng-show="scaffolder.hasMenu() && scaffolder.urls.length">
      <button class="btn btn-xs"
              ng-show="options.autoplay"
              ng-click="scaffolder.toggleAutoplay()"
              ng-class="{
                'btn-default': !scaffolder.autoplayPlaying,
                'btn-primary': scaffolder.autoplayPlaying
              }">
        <i class="fa fa-fw" ng-class="{
          'fa-play': !scaffolder.autoplayPlaying,
          'fa-pause': scaffolder.autoplayPlaying
        }"></i>
      </button>
      <button class="btn btn-xs btn-default"
              ng-show="options.sharing"
              ng-click="toggleSharingPopup()">
        <i class="fa fa-fw fa-share"></i>
        Share this view
      </button>
    </div>
  </div>
  <div class="scaffolder__sharing-popup ng-hide" ng-show="shouldDisplaySharingPopup">
    <div class="scaffolder__sharing-popup__overlay" ng-click="toggleSharingPopup()"></div>
    <div class="scaffolder__sharing-popup__panel panel panel-default" ng-show="shouldDisplaySharingPopup">
      <button class="scaffolder__sharing-popup__panel__close" ng-click="toggleSharingPopup()">
        <span aria-hidden="true">Ã—</span>
      </button>
      <div class="panel-body">
        <h3>Share</h3>
        <p>
          Share this view on social networks by clicking here:
        </p>
        <p>
          <a socialshare
             socialshare-text="{{ scaffolder.getActive( 'Iframe ' + ($index + 1) ).label }}"
             socialshare-url="{{ sharingUrl }}"
             socialshare-provider="twitter"
             class="btn btn-default scaffolder__sharing-popup__panel__twitter">
            <i class="fa fa-fw fa-twitter"></i>
            Twitter
          </a>
          <a socialshare
             socialshare-text="{{ scaffolder.getActive( 'Iframe ' + ($index + 1) ).label }}"
             socialshare-description="{{ scaffolder.getActive( 'Iframe ' + ($index + 1) ).description }}"
             socialshare-url="{{ sharingUrl }}"
             socialshare-provider="facebook"
             socialshare-type="feed"
             socialshare-to=""
             socialshare-from=""
             socialshare-ref=""
             socialshare-display="popup"
             socialshare-via="%%FACEBOOK_APP_ID%%"
             socialshare-redirect-uri="https://googletrends.github.io/iframe-scaffolder/close.html"
             class="btn btn-default scaffolder__sharing-popup__panel__facebook">
            <i class="fa fa-fw fa-facebook"></i>
            Facebook
          </a>
        </p>
        <h3>Embed</h3>
        <p>Please use the following embed code to share this view in your publications:</p>
        <textarea class="form-control" select-on-click readonly>{{ getViewIframe() }}</textarea>
        <h3>Link</h3>
        <p>This link will jump directly to this view:</p>
        <input class="form-control form-link" select-on-click readonly value="{{ sharingUrl }}" />
      </div>
    </div>
  </div>
</div>
